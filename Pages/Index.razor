@page "/"
@inject NavigationManager navigationManager
@inject IJSRuntime JsRuntime

<PageTitle>Index</PageTitle>

<button @onclick="@(()=>navigationManager.NavigateTo("/watch"))">Watch</button>

<button @onclick="@(() => navigationManager.NavigateTo("/build"))">Create</button>

<button @onclick="@(() => navigationManager.NavigateTo("/shop"))">Shop</button>

<style>
    img {
        width: 65%;
        height: auto;
    }

    .carousel-item {
        height: 32rem;
        background:#777;
        color: white;
        position:relative;
    }

   .container {
       position: absolute;
       bottom:0;
       left:0;
       right:0;
       padding:50px;
   }
</style>





<div id="carouselExampleIndicators"
     class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
    </ol>
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img class="d-block w-50" src="/Images/KidWithToys.jpg" alt="Kid playing with his toys">
        </div>
        <div class="carousel-item">
            <img class="d-block w-50" src="/Images/TeddyBear.jpg" alt="teddy bear">
        </div>
    </div>
    <a id="carouselExampleIndicators-prev"
       class="carousel-control-prev" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a id="carouselExampleIndicators-next"
       class="carousel-control-next" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>

@functions {
    int currentCount = 0;
    bool firstRender = true;

    protected async override Task OnAfterRenderAsync(bool firstrender)
    {
        if (firstRender)
        {
            await JsRuntime.InvokeAsync<object>("initializeCarousel");
            firstRender = false;
        }
    }
}



<script>
    window.initializeCarousel = () => {
        $('#carouselExampleIndicators').carousel({ interval: 2000 });

        //see step 2 to understand these news id's:
        $('#carouselExampleIndicators-prev').click(
            () => $('#carouselExampleIndicators').carousel('prev'));
        $('#carouselExampleIndicators-next').click(
            () => $('#carouselExampleIndicators').carousel('next'));

    }
</script>

<script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
<script src="_framework/blazor.webassembly.js"></script>